:root{
    --bg:#0a0a0a;
    --bg-2:#0e0e0f;
    --ink:#f5f7ff;
    --dim:#cfd3dc;
    --silver:#c0c3cc;
    --edge:#1a1b1f;
    --glow: 0 0 24px rgba(255,255,255,.25), 0 0 64px rgba(192,192,192,.18);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
    margin:0;
    font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans JP", sans-serif;
    color:var(--ink);
    background: radial-gradient(1200px 800px at 80% -10%, #1a1b1f 0%, #0c0c0d 40%, var(--bg) 100%) fixed;
    overflow-x:hidden;
}

/* Canvas fills viewport */
#bg-particles{position:fixed; inset:0; z-index:-2}

/* Subtle film grain toggled */
#noise{
    pointer-events:none; position:fixed; inset:0;
    background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="120" height="120" filter="url(%23n)" opacity="0.07"/></svg>');
    mix-blend-mode:soft-light; opacity:0; transition:opacity .5s ease;
    z-index:6;
}

.container{width:min(1100px, 92vw); margin-inline:auto}

/* Intro (cinematic with holographic logo) */
.intro{
    position:fixed; inset:0; z-index:8;
    background: radial-gradient(1200px 800px at 50% 20%, #141518, #0a0a0a 60%);
    display:grid; place-items:center;
    animation:introFade 1.8s 2.2s forwards;
}
@keyframes introFade{to{opacity:0; visibility:hidden}}
.intro__vignette{position:absolute; inset:-20%; box-shadow:inset 0 0 180px rgba(0,0,0,.9)}
.intro__scan{
    position:absolute; inset:0;
    background:linear-gradient(180deg, transparent, rgba(255,255,255,0.06), transparent);
    transform:translateY(-100%);
    animation:scan 2.2s cubic-bezier(.25,.1,.25,1) .6s forwards;
}
@keyframes scan{to{transform:translateY(100%)}}
.intro__logo{text-align:center}

/* Holographic logo */
.holo-logo{
    --shine-angle: 25deg;
    --holo-1: conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,.0) 0%, rgba(255,255,255,.35) 6%, rgba(255,255,255,.0) 12%, rgba(180,200,255,.12) 18%, rgba(255,170,220,.10) 26%, rgba(170,255,230,.10) 34%, rgba(255,255,255,.0) 42%, rgba(255,255,255,.18) 50%, rgba(255,255,255,.0) 58%);
    --holo-2: linear-gradient(var(--shine-angle), rgba(255,255,255,.0) 40%, rgba(255,255,255,.6) 50%, rgba(255,255,255,.0) 60%);
    display:inline-block;
    font-weight:800; letter-spacing:.14em;
    font-size:clamp(44px, 10vw, 120px);
    line-height:1;
    color:transparent;
    background:
            var(--holo-1) 0 0 / 180% 180%,
            var(--holo-2) 0 0 / 120% 120%,
            linear-gradient(180deg, #ffffff, #d9dbe3);
    -webkit-background-clip:text; background-clip:text;
    text-shadow: 0 0 14px rgba(255,255,255,.22), 0 0 42px rgba(192,192,192,.14);
    animation: holoDrift 6.6s ease-in-out infinite, holoSweep 5.2s cubic-bezier(.22,.61,.23,1) 1.2s infinite;
    filter: saturate(120%);
}
@keyframes holoDrift{
    0%{background-position: 0% 0%, 0% 0%, 50% 0%}
    50%{background-position: 100% 60%, 60% 100%, 50% 100%}
    100%{background-position: 0% 0%, 0% 0%, 50% 0%}
}
@keyframes holoSweep{
    0%{--shine-angle: 15deg}
    50%{--shine-angle: 35deg}
    100%{--shine-angle: 15deg}
}
.intro__tag{
    margin:.8rem 0 0; color:var(--dim);
    letter-spacing:.22em; text-transform:uppercase; font-size:.85rem; opacity:.9;
}

/* Nav */
.nav{
    position:sticky; top:0; z-index:5;
    display:flex; align-items:center; justify-content:space-between;
    padding:16px min(4vw, 20px);
    background:linear-gradient(180deg, rgba(10,10,10,.85), rgba(10,10,10,.35), transparent);
    backdrop-filter:saturate(120%) blur(8px);
    border-bottom:1px solid rgba(255,255,255,.06);
}
.brand{color:#fff; text-decoration:none; font-weight:800; letter-spacing:.2em}
.nav nav{display:flex; gap:14px; align-items:center}
.nav a{color:var(--dim); text-decoration:none; padding:8px 10px; border-radius:8px}
.nav a:hover{color:#fff; text-shadow:0 0 10px rgba(255,255,255,.35)}
.btn-outline{
    color:#fff; background:transparent; border:1px solid rgba(255,255,255,.2);
    padding:8px 14px; border-radius:10px; cursor:pointer;
}

/* Hero */
.hero{
    display:grid; grid-template-columns:1fr; gap:22px;
    padding:96px 0 48px;
}
.hero--center{place-items:center; text-align:center}
.hero__title-xl{
    margin:0;
    font-size:clamp(42px, 10vw, 120px);
    line-height:0.9;
    letter-spacing:.06em;
}
/* ヒーローテキスト：ホログラム + ダークノイズ */
.holo-display{
    color:transparent;
    background:
            conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,.0) 0%, rgba(255,255,255,.32) 7%, rgba(255,255,255,.0) 14%, rgba(180,200,255,.12) 22%, rgba(255,170,220,.10) 30%, rgba(170,255,230,.10) 38%, rgba(255,255,255,.0) 46%, rgba(255,255,255,.2) 54%, rgba(255,255,255,.0) 62%) 0 0/160% 160%,
            linear-gradient(180deg, #ffffff, #d7dae2);
    -webkit-background-clip:text; background-clip:text;
    text-shadow: 0 0 20px rgba(255,255,255,.16), 0 0 48px rgba(192,192,192,.12);
    animation:holoDrift 7s ease-in-out infinite reverse;
}
/* ノイズ層を文字にだけ乗せる */
@keyframes holoDrift{
    0%   { background-position: 0 0, 0 0, 50% 0 }
    50%  { background-position: 100% 60%, 60% 100%, 50% 100% }
    100% { background-position: 0 0, 0 0, 50% 0 }
}

/* ヒーローテキスト：ノイズを文字ボックス内に限定（WebKitのmask非依存） */
.holo-noise{
    position:relative;
    overflow:hidden; /* ← ボックス外へはみ出さない */
}
.holo-noise::after{
    content:""; position:absolute; inset:-6%;
    background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="220" height="220"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="2" seed="3"/><feColorMatrix type="saturate" values="0"/><feComponentTransfer><feFuncA type="table" tableValues="0 0.22"/></feComponentTransfer></filter><rect width="100%" height="100%" filter="url(%23n)"/></svg>');
    background-size:220px 220px;
    background-repeat:repeat;
    mix-blend-mode:overlay;
    opacity:.55;
    /* 問題の mask 系は削除して純粋にボックス内で合成 */
    pointer-events:none;
    animation:noiseMove 9s linear infinite;
    border-radius:12px;
}

/* こちらも % を数値に変更して警告を解消 */
@keyframes noiseMove{ to { background-position: 1000px 600px } }
.hero__lead{color:#e6e7ee; opacity:.92; max-width:780px; font-size:clamp(16px, 2.2vw, 20px)}
.hero__lead.refined{letter-spacing:.01em}
.hero__cta{display:flex; gap:12px; margin-top:10px}
.btn-primary{
    background:linear-gradient(180deg, #fff, #c7c9d1);
    color:#000; border:none; padding:12px 18px; border-radius:12px; font-weight:700;
    box-shadow:0 8px 28px rgba(255,255,255,.08), inset 0 0 0 1px rgba(0,0,0,.15);
    cursor:pointer; text-decoration:none;
}
.btn-ghost{
    background:rgba(255,255,255,.06); color:#fff; border:1px solid rgba(255,255,255,.18);
    padding:12px 18px; border-radius:12px; text-decoration:none;
}
.btn-link{color:#fff; text-decoration:none; border-bottom:1px solid rgba(255,255,255,.35)}
.btn-link:hover{border-color:#fff; text-shadow:0 0 10px rgba(255,255,255,.35)}

/* Sections */
.section{padding:64px 0}
.section__head{display:flex; align-items:end; justify-content:space-between; margin-bottom:20px}
.section__title{margin:0; font-size:clamp(22px, 3vw, 32px); letter-spacing:.08em}
.section__desc{color:#e1e4ec; margin:0; opacity:.9}
.grid{display:grid; gap:18px}
.grid.two{grid-template-columns:repeat(2,1fr)}
.grid.three{grid-template-columns:repeat(3,1fr)}
.card{
    background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
    border:1px solid rgba(255,255,255,.12);
    border-radius:16px; padding:20px;
}
.card.glass{backdrop-filter: blur(8px) saturate(110%)}
.card.neon{box-shadow:0 0 24px rgba(255,255,255,.08)}
.card h3{margin:0 0 8px}
.card p, .card li{color:#e9ebf2}
.card ul{margin:0; padding-left:18px}

/* Work: repo cards */
.repo h3{margin:0 0 8px; font-size:1.05rem}
.repo p{margin:0; color:#dfe3ee; opacity:.92}
/* skeleton */
.skeleton .skeleton__title,
.skeleton .skeleton__text{
    border-radius:8px; background:linear-gradient(90deg, rgba(255,255,255,.06), rgba(255,255,255,.12), rgba(255,255,255,.06));
    background-size:200% 100%;
    animation:skeleton 1.8s ease-in-out infinite;
}
.skeleton .skeleton__title{height:20px; width:60%; margin-bottom:12px}
.skeleton .skeleton__text{height:14px; width:90%}
@keyframes skeleton{to{background-position:-200% 0}}

/* Project thumbs (still used for other visual items) */
.project__thumb{
    height:160px; border-radius:12px;
    background:linear-gradient(135deg, rgba(255,255,255,.18), rgba(255,255,255,.04));
    border:1px solid rgba(255,255,255,.18);
}
.shimmer{position:relative; overflow:hidden}
.shimmer::after{
    content:""; position:absolute; inset:0; transform:translateX(-120%);
    background:linear-gradient(75deg, transparent, rgba(255,255,255,.28), transparent);
    animation:shimmer 2.6s ease-in-out infinite;
}
@keyframes shimmer{to{transform:translateX(120%)}}

/* Reveal on scroll */
.reveal{opacity:0; transform:translateY(10px); transition:all .7s cubic-bezier(.2,.65,.25,1)}
.reveal.is-visible{opacity:1; transform:none}

/* Forms */
.form .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
.form input, .form textarea{
    width:100%; padding:12px 14px; border-radius:10px;
    background:rgba(255,255,255,.04); border:1px solid rgba(255,255,255,.16); color:#fff; outline:none;
}
.form input:focus, .form textarea:focus{border-color:rgba(255,255,255,.35); box-shadow:0 0 0 4px rgba(255,255,255,.07)}

/* Footer (refined) */
.footer{padding:44px 0; color:#d7dbe6; text-align:center}
.footer__line{
    margin:0; display:flex; gap:10px; justify-content:center; align-items:center; flex-wrap:wrap;
    opacity:.9;
}
.footer .mono{font-feature-settings:"tnum" 1, "ss01" 1}
.footer .dot{opacity:.6}

/* Responsive */
@media (max-width: 980px){
    .form .row{grid-template-columns:1fr}
    .grid.two{grid-template-columns:1fr}
    .grid.three{grid-template-columns:1fr}
}